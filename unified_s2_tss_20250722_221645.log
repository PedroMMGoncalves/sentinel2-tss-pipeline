2025-07-22 22:16:45,364 - INFO - [sentinel2_tss_pipeline.py:231] - Logging configured - File: unified_s2_tss_20250722_221645.log
2025-07-22 22:16:45,372 - INFO - [sentinel2_tss_pipeline.py:7201] - Auto-detected SNAP_HOME: C:\Program Files\esa-snap
2025-07-22 22:16:45,374 - INFO - [sentinel2_tss_pipeline.py:7242] - ================================================================================
2025-07-22 22:16:45,374 - INFO - [sentinel2_tss_pipeline.py:7243] - UNIFIED S2 PROCESSING & TSS ESTIMATION PIPELINE v1.0
2025-07-22 22:16:45,375 - INFO - [sentinel2_tss_pipeline.py:7244] - ================================================================================
2025-07-22 22:16:45,375 - INFO - [sentinel2_tss_pipeline.py:7245] - SNAP_HOME: C:\Program Files\esa-snap
2025-07-22 22:16:45,376 - INFO - [sentinel2_tss_pipeline.py:7246] - GPT: C:\Program Files\esa-snap\bin\gpt.exe
2025-07-22 22:16:45,377 - INFO - [sentinel2_tss_pipeline.py:7247] - Python: 3.9.22 | packaged by conda-forge | (main, Apr 10 2025, 22:07:06) [MSC v.1929 64 bit (AMD64)]
2025-07-22 22:16:45,377 - INFO - [sentinel2_tss_pipeline.py:7248] - Platform: win32
2025-07-22 22:16:45,378 - INFO - [sentinel2_tss_pipeline.py:7249] - Working Directory: C:\Users\pedro.goncalves\OneDrive - LNEG - Laboratorio Nacional de Energia e Geologia\GitHub\sentinel2-tss-pipeline
2025-07-22 22:16:45,379 - INFO - [sentinel2_tss_pipeline.py:7250] - ================================================================================
2025-07-22 22:16:45,379 - INFO - [sentinel2_tss_pipeline.py:7259] - Starting GUI application...
2025-07-22 22:18:08,996 - INFO - [sentinel2_tss_pipeline.py:4137] - Initializing S2 processor...
2025-07-22 22:18:08,998 - INFO - [sentinel2_tss_pipeline.py:3602] - SNAP_HOME: C:\Program Files\esa-snap
2025-07-22 22:18:14,579 - INFO - [sentinel2_tss_pipeline.py:3613] - ✓ GPT validated: C:\Program Files\esa-snap\bin\gpt.exe
2025-07-22 22:18:14,581 - INFO - [sentinel2_tss_pipeline.py:3709] - S2 processing graph with subset saved: s2_complete_processing_with_subset.xml
2025-07-22 22:18:14,581 - INFO - [sentinel2_tss_pipeline.py:3636] - ✓ S2 processing graph created
2025-07-22 22:18:14,582 - INFO - [sentinel2_tss_pipeline.py:4144] - Initializing Jiang TSS processor...
2025-07-22 22:18:14,583 - INFO - [sentinel2_tss_pipeline.py:3073] - Initialized S2 Marine Visualization Processor
2025-07-22 22:18:14,584 - INFO - [sentinel2_tss_pipeline.py:3074] - Configuration settings:
2025-07-22 22:18:14,584 - INFO - [sentinel2_tss_pipeline.py:3075] -   Natural color RGB: True
2025-07-22 22:18:14,585 - INFO - [sentinel2_tss_pipeline.py:3076] -   False color RGB: True
2025-07-22 22:18:14,585 - INFO - [sentinel2_tss_pipeline.py:3077] -   Water-specific RGB: True
2025-07-22 22:18:14,586 - INFO - [sentinel2_tss_pipeline.py:3078] -   Research RGB: True
2025-07-22 22:18:14,587 - INFO - [sentinel2_tss_pipeline.py:3079] -   Water quality indices: True
2025-07-22 22:18:14,587 - INFO - [sentinel2_tss_pipeline.py:3080] -   Chlorophyll indices: True
2025-07-22 22:18:14,588 - INFO - [sentinel2_tss_pipeline.py:3081] -   Turbidity indices: True
2025-07-22 22:18:14,588 - INFO - [sentinel2_tss_pipeline.py:3082] -   Advanced indices: True
2025-07-22 22:18:14,589 - INFO - [sentinel2_tss_pipeline.py:3083] -   Output format: GeoTIFF
2025-07-22 22:18:14,589 - INFO - [sentinel2_tss_pipeline.py:3084] -   Contrast enhancement: True
2025-07-22 22:18:14,590 - INFO - [sentinel2_tss_pipeline.py:3085] -   Contrast method: percentile_stretch
2025-07-22 22:18:14,591 - INFO - [sentinel2_tss_pipeline.py:3086] -   Export metadata: True
2025-07-22 22:18:14,592 - INFO - [sentinel2_tss_pipeline.py:3087] -   Create overview images: True
2025-07-22 22:18:14,592 - INFO - [sentinel2_tss_pipeline.py:3102] - Expected products: ~11 RGB composites + ~13 spectral indices
2025-07-22 22:18:14,593 - INFO - [sentinel2_tss_pipeline.py:3103] - Marine visualization processor ready for processing
2025-07-22 22:18:14,593 - INFO - [sentinel2_tss_pipeline.py:1208] - Marine visualization processor initialized
2025-07-22 22:18:14,594 - INFO - [sentinel2_tss_pipeline.py:2432] - Initialized Advanced Aquatic Processor with scientific algorithms
2025-07-22 22:18:14,595 - INFO - [sentinel2_tss_pipeline.py:1221] - Initialized Jiang TSS Processor with enhanced methodology
2025-07-22 22:18:14,595 - INFO - [sentinel2_tss_pipeline.py:1224] - Jiang TSS enabled: True
2025-07-22 22:18:14,596 - INFO - [sentinel2_tss_pipeline.py:1225] - Advanced algorithms enabled: True
2025-07-22 22:18:14,597 - INFO - [sentinel2_tss_pipeline.py:1226] - Marine visualization enabled: True
2025-07-22 22:18:14,597 - INFO - [sentinel2_tss_pipeline.py:1229] - Working algorithms available:
2025-07-22 22:18:14,598 - INFO - [sentinel2_tss_pipeline.py:1230] -   ✓ Water Clarity: True
2025-07-22 22:18:14,598 - INFO - [sentinel2_tss_pipeline.py:1231] -   ✓ HAB Detection: True
2025-07-22 22:18:14,599 - INFO - [sentinel2_tss_pipeline.py:1232] - Note: Only Sentinel-2 compatible algorithms included
2025-07-22 22:18:14,600 - INFO - [sentinel2_tss_pipeline.py:1238] - Marine visualization configuration:
2025-07-22 22:18:14,600 - INFO - [sentinel2_tss_pipeline.py:1239] -   ✓ Natural color RGB: True
2025-07-22 22:18:14,601 - INFO - [sentinel2_tss_pipeline.py:1240] -   ✓ False color RGB: True
2025-07-22 22:18:14,601 - INFO - [sentinel2_tss_pipeline.py:1241] -   ✓ Water-specific RGB: True
2025-07-22 22:18:14,602 - INFO - [sentinel2_tss_pipeline.py:1242] -   ✓ Research RGB: True
2025-07-22 22:18:14,603 - INFO - [sentinel2_tss_pipeline.py:1243] -   ✓ Water quality indices: True
2025-07-22 22:18:14,603 - INFO - [sentinel2_tss_pipeline.py:1244] -   ✓ Chlorophyll indices: True
2025-07-22 22:18:14,604 - INFO - [sentinel2_tss_pipeline.py:1245] -   ✓ Turbidity indices: True
2025-07-22 22:18:14,604 - INFO - [sentinel2_tss_pipeline.py:1246] -   ✓ Advanced indices: True
2025-07-22 22:18:14,605 - INFO - [sentinel2_tss_pipeline.py:1247] -   Output format: GeoTIFF
2025-07-22 22:18:14,605 - INFO - [sentinel2_tss_pipeline.py:1248] -   Contrast enhancement: True
2025-07-22 22:18:14,606 - INFO - [sentinel2_tss_pipeline.py:1252] - Jiang TSS Processor initialization completed successfully
2025-07-22 22:18:14,607 - INFO - [sentinel2_tss_pipeline.py:4129] - Initialized Unified S2-TSS Processor - Mode: complete_pipeline
2025-07-22 22:18:14,607 - INFO - [sentinel2_tss_pipeline.py:6763] - TEST MODE: Processing only 2 products
2025-07-22 22:18:14,608 - INFO - [sentinel2_tss_pipeline.py:4238] - 
--------------------------------------------------------------------------------
2025-07-22 22:18:14,608 - INFO - [sentinel2_tss_pipeline.py:4239] - Processing 1/2: S2A_MSIL1C_20190105T112441_N0500_R037_T29TNF_20221215T164753
2025-07-22 22:18:14,609 - INFO - [sentinel2_tss_pipeline.py:4240] - Mode: complete_pipeline
2025-07-22 22:18:14,610 - INFO - [sentinel2_tss_pipeline.py:4241] - --------------------------------------------------------------------------------
2025-07-22 22:18:14,611 - INFO - [sentinel2_tss_pipeline.py:4255] - Step 1: S2 Processing (L1C → C2RCC)
2025-07-22 22:18:14,611 - INFO - [sentinel2_tss_pipeline.py:3833] - S2 Processing: S2A_MSIL1C_20190105T112441_N0500_R037_T29TNF_20221215T164753.zip
2025-07-22 22:18:14,612 - INFO - [sentinel2_tss_pipeline.py:3834] -   Mode: complete_pipeline
2025-07-22 22:18:14,612 - INFO - [sentinel2_tss_pipeline.py:3835] -   Resolution: 10m
2025-07-22 22:18:14,613 - INFO - [sentinel2_tss_pipeline.py:3836] -   ECMWF: True
2025-07-22 22:18:14,614 - INFO - [sentinel2_tss_pipeline.py:3845] - Starting S2 processing with C2RCC...
2025-07-22 22:18:14,614 - INFO - [sentinel2_tss_pipeline.py:3922] - Running S2 processing: C:\Program Files\esa-snap\bin\gpt.exe s2_complete_processing_with_subset.xml -PsourceProduct=D:\GSEU_WP5\Imagens\2019\S2A_MSIL1C_20190105T112441_N0500_R037_T29TNF_20221215T164753.zip -PtargetProduct=D:/GSEU_WP5/02_TSS_Results\Resampled_S2A_MSIL1C_20190105T112441_N0500_R037_T29TNF_20221215T164753_Subset_C2RCC.dim -c 56G -q 32
2025-07-22 22:18:18,996 - ERROR - [sentinel2_tss_pipeline.py:3951] - S2 processing failed: INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters
INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

Error: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

2025-07-22 22:18:18,997 - ERROR - [sentinel2_tss_pipeline.py:3849] - S2 processing failed: S2 processing failed: INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters
INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

Error: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

2025-07-22 22:18:18,998 - ERROR - [sentinel2_tss_pipeline.py:4261] - S2 processing failed, skipping TSS: S2 processing failed: INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters
INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

Error: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

2025-07-22 22:18:18,999 - INFO - [sentinel2_tss_pipeline.py:4238] - 
--------------------------------------------------------------------------------
2025-07-22 22:18:19,000 - INFO - [sentinel2_tss_pipeline.py:4239] - Processing 2/2: S2A_MSIL1C_20190108T113441_N0500_R080_T29TNF_20221217T102306
2025-07-22 22:18:19,001 - INFO - [sentinel2_tss_pipeline.py:4240] - Mode: complete_pipeline
2025-07-22 22:18:19,001 - INFO - [sentinel2_tss_pipeline.py:4241] - --------------------------------------------------------------------------------
2025-07-22 22:18:19,002 - INFO - [sentinel2_tss_pipeline.py:4255] - Step 1: S2 Processing (L1C → C2RCC)
2025-07-22 22:18:19,002 - INFO - [sentinel2_tss_pipeline.py:3833] - S2 Processing: S2A_MSIL1C_20190108T113441_N0500_R080_T29TNF_20221217T102306.zip
2025-07-22 22:18:19,003 - INFO - [sentinel2_tss_pipeline.py:3834] -   Mode: complete_pipeline
2025-07-22 22:18:19,004 - INFO - [sentinel2_tss_pipeline.py:3835] -   Resolution: 10m
2025-07-22 22:18:19,004 - INFO - [sentinel2_tss_pipeline.py:3836] -   ECMWF: True
2025-07-22 22:18:19,005 - INFO - [sentinel2_tss_pipeline.py:3845] - Starting S2 processing with C2RCC...
2025-07-22 22:18:19,005 - INFO - [sentinel2_tss_pipeline.py:3922] - Running S2 processing: C:\Program Files\esa-snap\bin\gpt.exe s2_complete_processing_with_subset.xml -PsourceProduct=D:\GSEU_WP5\Imagens\2019\S2A_MSIL1C_20190108T113441_N0500_R080_T29TNF_20221217T102306.zip -PtargetProduct=D:/GSEU_WP5/02_TSS_Results\Resampled_S2A_MSIL1C_20190108T113441_N0500_R080_T29TNF_20221217T102306_Subset_C2RCC.dim -c 56G -q 32
2025-07-22 22:18:23,459 - ERROR - [sentinel2_tss_pipeline.py:3951] - S2 processing failed: INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters
INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

Error: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

2025-07-22 22:18:23,460 - ERROR - [sentinel2_tss_pipeline.py:3849] - S2 processing failed: S2 processing failed: INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters
INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

Error: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

2025-07-22 22:18:23,461 - ERROR - [sentinel2_tss_pipeline.py:4261] - S2 processing failed, skipping TSS: S2 processing failed: INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters
INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

Error: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
com.thoughtworks.xstream.converters.ConversionException: 
---- Debugging information ----
cause-exception     : com.thoughtworks.xstream.io.StreamException
cause-message       : 
class               : com.bc.ceres.binding.dom.XppDomElement
required-type       : com.bc.ceres.binding.dom.XppDomElement
converter-type      : com.bc.ceres.binding.dom.DomElementXStreamConverter
path                : /graph/node[4]/parameters/validPixelExpression
line number         : 47
class[1]            : org.esa.snap.core.gpf.graph.Node
required-type[1]    : org.esa.snap.core.gpf.graph.Node
converter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
class[2]            : org.esa.snap.core.gpf.graph.Graph
required-type[2]    : org.esa.snap.core.gpf.graph.Graph
version             : 1.4.21
-------------------------------
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:81)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:496)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:420)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:392)
	at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:277)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:72)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:68)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:136)
	at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1468)
	at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1445)
	at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1325)
	at org.esa.snap.core.gpf.graph.GraphIO.read(GraphIO.java:83)
	at org.esa.snap.core.gpf.main.DefaultCommandLineContext.readGraph(DefaultCommandLineContext.java:104)
	at org.esa.snap.core.gpf.main.CommandLineTool.readGraph(CommandLineTool.java:607)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraph(CommandLineTool.java:384)
	at org.esa.snap.core.gpf.main.CommandLineTool.runGraphOrOperator(CommandLineTool.java:325)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:226)
	at org.esa.snap.core.gpf.main.CommandLineTool.run(CommandLineTool.java:131)
	at org.esa.snap.core.gpf.main.GPT.run(GPT.java:60)
	at org.esa.snap.core.gpf.main.GPT.main(GPT.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.esa.snap.runtime.Launcher.lambda$run$0(Launcher.java:55)
	at org.esa.snap.runtime.Engine.runClientCode(Engine.java:190)
	at org.esa.snap.runtime.Launcher.run(Launcher.java:51)
	at org.esa.snap.runtime.Launcher.main(Launcher.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)
	at com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94)
	at com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)
Caused by: com.thoughtworks.xstream.io.StreamException: 
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:124)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readRealEvent(AbstractPullReader.java:148)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.readEvent(AbstractPullReader.java:135)
	at com.thoughtworks.xstream.io.xml.AbstractPullReader.getValue(AbstractPullReader.java:180)
	at com.thoughtworks.xstream.io.ReaderWrapper.getValue(ReaderWrapper.java:48)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:41)
	at com.thoughtworks.xstream.io.copy.HierarchicalStreamCopier.copy(HierarchicalStreamCopier.java:47)
	at com.bc.ceres.binding.dom.DomElementXStreamConverter.unmarshal(DomElementXStreamConverter.java:52)
	at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:74)
	... 40 more
Caused by: org.xmlpull.v1.XmlPullParserException: entity reference names can not start with character '&' (position: START_TAG seen ...<validPixelExpression>B8 > 0 &&... @47:38) 
	at io.github.xstream.mxparser.MXParser.parseEntityRef(MXParser.java:2247)
	at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1286)
	at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)
	at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)
	... 48 more

2025-07-22 22:18:27,046 - INFO - [sentinel2_tss_pipeline.py:4503] - ✅ Processor cleanup completed
2025-07-22 22:20:59,624 - INFO - [sentinel2_tss_pipeline.py:7266] - Application interrupted by user
